{"ast":null,"code":"var _jsxFileName = \"/Users/shellyganga/Documents/cuproj/varearth/src/addcfdata.js\";\nimport React, { Component } from 'react';\nimport ReactDoM from 'react-dom';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Challenges from './challengesList';\n\nconst Addcfdata = () => {\n  firebase.auth().onAuthStateChanged(user => {\n    if (user) {\n      const db = firebase.firestore();\n      const userRef = db.collection(\"UserData\");\n      userRef.doc(user.uid).get().then(getDoc => {\n        let currcfdata = getDoc.data().footprint;\n        let lastcfdata = currcfdata[currcfdata.length - 1];\n        let newcfdata = {\n          timestamp: new Date(Date.now()),\n          value: getDoc.data().cfnum\n        };\n        let lastcftime = new Date(lastcfdata.timestamp.toDate());\n        let newcftime = new Date(newcfdata.timestamp);\n\n        for (var i = 0; i < currcfdata.length; i++) {\n          console.log(currcfdata[i].timestamp);\n          currcfdata[i].timestamp = new Date(currcfdata[i].timestamp.toDate());\n        }\n\n        currcfdata.push(newcfdata);\n        console.log(currcfdata);\n        let newdaily = [];\n\n        for (var i = 0; i < 5; i++) {\n          newdaily.push({\n            index: Math.floor(Math.random() * Challenges.length),\n            complete: false\n          });\n        }\n\n        if (lastcftime.getDate() !== newcftime.getDate() || lastcftime.getMonth() !== newcftime.getMonth()) {\n          userRef.doc(user.uid).set({\n            username: getDoc.data().username,\n            email: getDoc.data().email,\n            footprint: currcfdata,\n            challenge: getDoc.data().challenge,\n            dailychallenge: newdaily,\n            cfnum: getDoc.data().cfnum\n          });\n        }\n      });\n    }\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  });\n};\n\nexport default Addcfdata;","map":{"version":3,"sources":["/Users/shellyganga/Documents/cuproj/varearth/src/addcfdata.js"],"names":["React","Component","ReactDoM","firebase","StyledFirebaseAuth","Challenges","Addcfdata","auth","onAuthStateChanged","user","db","firestore","userRef","collection","doc","uid","get","then","getDoc","currcfdata","data","footprint","lastcfdata","length","newcfdata","timestamp","Date","now","value","cfnum","lastcftime","toDate","newcftime","i","console","log","push","newdaily","index","Math","floor","random","complete","getDate","getMonth","set","username","email","challenge","dailychallenge"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport ReactDoM from 'react-dom';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Challenges from './challengesList';\n\nconst Addcfdata = () => {\n\n  firebase.auth().onAuthStateChanged(user => {\n\n    if(user){\n\n      const db = firebase.firestore();\n\n      const userRef = db.collection(\"UserData\");\n\n      userRef.doc(user.uid).get().then(getDoc => {\n\n        let currcfdata = getDoc.data().footprint;\n        let lastcfdata = currcfdata[currcfdata.length-1];\n        let newcfdata = {\n          timestamp: new Date(Date.now()),\n          value: getDoc.data().cfnum\n        }\n\n        let lastcftime = new Date(lastcfdata.timestamp.toDate());\n        let newcftime = new Date(newcfdata.timestamp);\n\n        for(var i = 0; i < currcfdata.length; i++){\n          console.log(currcfdata[i].timestamp)\n          currcfdata[i].timestamp = new Date(currcfdata[i].timestamp.toDate());\n        }\n\n        currcfdata.push(newcfdata)\n        console.log(currcfdata)\n\n\n        let newdaily = [];\n        for(var i = 0; i < 5; i++){\n          newdaily.push({\n            index: Math.floor(Math.random()*Challenges.length),\n            complete: false\n          });\n        }\n\n\n        if((lastcftime.getDate() !== newcftime.getDate()) || (lastcftime.getMonth() !== newcftime.getMonth())){\n          userRef.doc(user.uid).set({\n            username: getDoc.data().username,\n            email: getDoc.data().email,\n            footprint: currcfdata,\n            challenge: getDoc.data().challenge,\n            dailychallenge: newdaily,\n            cfnum: getDoc.data().cfnum\n          })\n        }\n\n      })\n\n    }\n  })\n\n  return(\n    <div />\n  )\n}\n\nexport default Addcfdata;\n"]},"metadata":{},"sourceType":"module"}