{"ast":null,"code":"var _jsxFileName = \"/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js\";\nimport React, { Component } from 'react';\nimport './userPage.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Refine from './refinedata';\nimport Navbar from './navbar';\nimport Addcfdata from './addcfdata';\nimport Listchallenges from './listchallenges';\n\nclass UserPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      // data: [{value: 50, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())}]\n      data: [],\n      challengedata: []\n    };\n  }\n\n  componentWillMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        const db = firebase.firestore();\n        /*\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        */\n\n        const userRef = db.collection(\"UserData\");\n        this.setState({\n          signedIn: true,\n          currentUser: user //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n\n        });\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc.data().footprint,\n            challengedata: getDoc.data().dailychallenge\n          });\n        });\n      } //console.log(\"changed: \" + this.state.currentUser.displayName);\n\n    });\n  }\n\n  render() {\n    if (this.state.data.length > 0) {\n      console.log(this.state.data);\n      console.log(this.state.challengedata);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Addcfdata, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"userPage_welcome_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"userPage_welcome\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"welcome back\")), React.createElement(Listchallenges, {\n        data: this.state.challengedata,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(Refine, {\n        data: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js"],"names":["React","Component","firebase","StyledFirebaseAuth","Refine","Navbar","Addcfdata","Listchallenges","UserPage","constructor","state","signedIn","currentUser","data","challengedata","componentWillMount","auth","onAuthStateChanged","user","db","firestore","userRef","collection","setState","doc","uid","get","then","getDoc","footprint","dailychallenge","render","length","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,gBAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,kBAAP,MAA+B,qCAA/B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AACA,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAC/BQ,EAAAA,WAAW,GAAE;AACX;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,KADC;AAEXC,MAAAA,WAAW,EAAE,IAFF;AAGX;AACAC,MAAAA,IAAI,EAAC,EAJM;AAKXC,MAAAA,aAAa,EAAE;AALJ,KAAb;AAOD;;AACDC,EAAAA,kBAAkB,GAAE;AAClBb,IAAAA,QAAQ,CAACc,IAAT,GAAgBC,kBAAhB,CAAmCC,IAAI,IAAI;AACzC,UAAGA,IAAH,EAAQ;AACN,cAAMC,EAAE,GAAGjB,QAAQ,CAACkB,SAAT,EAAX;AACA;;;;;;AAKA,cAAMC,OAAO,GAAGF,EAAE,CAACG,UAAH,CAAc,UAAd,CAAhB;AACA,aAAKC,QAAL,CAAc;AACZZ,UAAAA,QAAQ,EAAE,IADE;AAEZC,UAAAA,WAAW,EAAEM,IAFD,CAGZ;;AAHY,SAAd;AAKAG,QAAAA,OAAO,CAACG,GAAR,CAAYN,IAAI,CAACO,GAAjB,EAAsBC,GAAtB,GAA4BC,IAA5B,CAAiCC,MAAM,IAAI;AACzC,eAAKL,QAAL,CAAc;AACZV,YAAAA,IAAI,EAAEe,MAAM,CAACf,IAAP,GAAcgB,SADR;AAEZf,YAAAA,aAAa,EAAEc,MAAM,CAACf,IAAP,GAAciB;AAFjB,WAAd;AAID,SALD;AAMD,OApBwC,CAqBzC;;AACD,KAtBD;AAuBD;;AACDC,EAAAA,MAAM,GAAE;AACN,QAAG,KAAKrB,KAAL,CAAWG,IAAX,CAAgBmB,MAAhB,GAAyB,CAA5B,EAA8B;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAL,CAAWG,IAAvB;AACAoB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAL,CAAWI,aAAvB;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAS,QAAA,SAAS,EAAC,wBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CAHF,EAME,oBAAC,cAAD;AAAgB,QAAA,IAAI,EAAI,KAAKJ,KAAL,CAAWI,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAOE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAI,KAAKJ,KAAL,CAAWG,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF;AAWD,KAdD,MAcO;AACL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AACF;;AAxD8B;;AA0DjC,eAAeL,QAAf","sourcesContent":["import React, {Component} from 'react';\nimport './userPage.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Refine from './refinedata'\nimport Navbar from './navbar';\nimport Addcfdata from './addcfdata';\nimport Listchallenges from './listchallenges';\nclass UserPage extends Component {\n  constructor(){\n    super();\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      // data: [{value: 50, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())}]\n      data:[],\n      challengedata: []\n    };\n  }\n  componentWillMount(){\n    firebase.auth().onAuthStateChanged(user => {\n      if(user){\n        const db = firebase.firestore();\n        /*\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        */\n        const userRef = db.collection(\"UserData\");\n        this.setState({\n          signedIn: true,\n          currentUser: user,\n          //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n        })\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc.data().footprint,\n            challengedata: getDoc.data().dailychallenge\n          })\n        })\n      }\n      //console.log(\"changed: \" + this.state.currentUser.displayName);\n    })\n  }\n  render(){\n    if(this.state.data.length > 0){\n      console.log(this.state.data)\n      console.log(this.state.challengedata)\n      return(\n        <div>\n          <Addcfdata />\n          <Navbar />\n          <section className=\"userPage_welcome_block\">\n            <h1 className=\"userPage_welcome\">welcome back</h1>\n          </section>\n          <Listchallenges data = {this.state.challengedata} />\n          <Refine data = {this.state.data}  />\n        </div>\n      )\n    } else {\n      return(\n        <div/>\n      )\n    }\n  }\n}\nexport default UserPage;\n"]},"metadata":{},"sourceType":"module"}