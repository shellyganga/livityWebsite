{"ast":null,"code":"var _jsxFileName = \"/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Progress from './weeklyprogressgraph';\n\nclass UserPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      data: null\n    };\n  }\n\n  componentWillMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        const db = firebase.firestore();\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        const userRef = db.collection(\"UserData\");\n        this.setState({\n          signedIn: true,\n          currentUser: user //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n\n        });\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc\n          });\n        });\n      } //console.log(\"changed: \" + this.state.currentUser.displayName);\n\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js"],"names":["React","Component","firebase","StyledFirebaseAuth","Progress","UserPage","constructor","state","signedIn","currentUser","data","componentWillMount","auth","onAuthStateChanged","user","db","firestore","settings","timestampsInSnapshots","userRef","collection","setState","doc","uid","get","then","getDoc","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,kBAAP,MAA+B,qCAA/B;AACA,OAAOC,QAAP,MAAqB,uBAArB;;AAEA,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAE/BK,EAAAA,WAAW,GAAE;AACX;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,KADC;AAEXC,MAAAA,WAAW,EAAE,IAFF;AAGXC,MAAAA,IAAI,EAAE;AAHK,KAAb;AAKD;;AAEDC,EAAAA,kBAAkB,GAAE;AAClBT,IAAAA,QAAQ,CAACU,IAAT,GAAgBC,kBAAhB,CAAmCC,IAAI,IAAI;AACzC,UAAGA,IAAH,EAAQ;AAEN,cAAMC,EAAE,GAAGb,QAAQ,CAACc,SAAT,EAAX;AACAD,QAAAA,EAAE,CAACE,QAAH,CAAY;AACVC,UAAAA,qBAAqB,EAAE;AADb,SAAZ;AAGA,cAAMC,OAAO,GAAGJ,EAAE,CAACK,UAAH,CAAc,UAAd,CAAhB;AAEA,aAAKC,QAAL,CAAc;AACZb,UAAAA,QAAQ,EAAE,IADE;AAEZC,UAAAA,WAAW,EAAEK,IAFD,CAGZ;;AAHY,SAAd;AAMAK,QAAAA,OAAO,CAACG,GAAR,CAAYR,IAAI,CAACS,GAAjB,EAAsBC,GAAtB,GAA4BC,IAA5B,CAAiCC,MAAM,IAAI;AACzC,eAAKL,QAAL,CAAc;AACZX,YAAAA,IAAI,EAAEgB;AADM,WAAd;AAGD,SAJD;AAMD,OArBwC,CAsBzC;;AACD,KAvBD;AAwBD;;AAEDC,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAMD;;AA7C8B;;AAgDjC,eAAetB,QAAf","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Progress from './weeklyprogressgraph'\n\nclass UserPage extends Component {\n\n  constructor(){\n    super();\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      data: null\n    };\n  }\n\n  componentWillMount(){\n    firebase.auth().onAuthStateChanged(user => {\n      if(user){\n\n        const db = firebase.firestore();\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        const userRef = db.collection(\"UserData\");\n\n        this.setState({\n          signedIn: true,\n          currentUser: user,\n          //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n        })\n\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc\n          })\n        })\n\n      }\n      //console.log(\"changed: \" + this.state.currentUser.displayName);\n    })\n  }\n\n  render(){\n    return(\n      <div>\n        {/*<Progress data = {this.state.data}  />*/}\n      </div>\n\n    );\n  }\n}\n\nexport default UserPage;\n"]},"metadata":{},"sourceType":"module"}