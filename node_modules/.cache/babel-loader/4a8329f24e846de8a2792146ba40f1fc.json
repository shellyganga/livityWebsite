{"ast":null,"code":"var _jsxFileName = \"/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js\";\nimport React, { Component } from 'react';\nimport './userPage.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Refine from './refinedata';\nimport Navbar from './navbar';\nimport Addcfdata from './addcfdata';\nimport Listchallenges from './listchallenges';\nimport CarbonForm from './carbonForm.js';\n\nclass UserPage extends Component {\n  constructor() {\n    super();\n\n    this.handleTask = e => {\n      this.setState({\n        task: true\n      });\n    };\n\n    this.handleForm = e => {\n      this.setState({\n        task: false\n      });\n    };\n\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      // data: [{value: 50, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())}]\n      data: [],\n      challengedata: [],\n      task: true\n    };\n  }\n\n  componentWillMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        const db = firebase.firestore();\n        /*\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        */\n\n        const userRef = db.collection(\"UserData\");\n        this.setState({\n          signedIn: true,\n          currentUser: user //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n\n        });\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc.data().footprint,\n            challengedata: getDoc.data().dailychallenge\n          });\n        });\n      } //console.log(\"changed: \" + this.state.currentUser.displayName);\n\n    });\n  }\n\n  render() {\n    if (this.state.data.length > 0) {\n      if (this.state.task) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(Addcfdata, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }), React.createElement(Navbar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }), React.createElement(\"section\", {\n          className: \"userPage_welcome_block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"userPage_welcome\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"welcome back\"), React.createElement(\"carbonForm\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"userPage-flex\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"taskbar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"userpage-button\",\n          onClick: this.handleTask,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"tasks\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"userpage-button\",\n          onClick: this.handleForm,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"forms\")))), React.createElement(\"div\", {\n          className: \"taskbar-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(Listchallenges, {\n          data: this.state.challengedata,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"victory-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"harry-styles-is-hotter-than-ryan-reynolds\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          id: \"your-carbon-score\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"your carbon score!\"), React.createElement(Refine, {\n          data: this.state.data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        })))));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(Navbar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }), React.createElement(\"section\", {\n          className: \"userPage_welcome_block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          className: \"userPage_welcome\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"welcome back\"), React.createElement(\"carbonForm\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"userPage-flex\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"taskbar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"userpage-button\",\n          onClick: this.handleTask,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"tasks\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"userpage-button\",\n          onClick: this.handleForm,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, \"forms\")))), React.createElement(\"div\", {\n          className: \"carbonForm-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(CarbonForm, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"victory-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"harry-styles-is-hotter-than-ryan-reynolds\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          id: \"your-carbon-score\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, \"your carbon score!\"), React.createElement(Refine, {\n          data: this.state.data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        })))));\n      }\n\n      console.log(this.state.data);\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js"],"names":["React","Component","firebase","StyledFirebaseAuth","Refine","Navbar","Addcfdata","Listchallenges","CarbonForm","UserPage","constructor","handleTask","e","setState","task","handleForm","state","signedIn","currentUser","data","challengedata","componentWillMount","auth","onAuthStateChanged","user","db","firestore","userRef","collection","doc","uid","get","then","getDoc","footprint","dailychallenge","render","length","console","log"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './userPage.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Refine from './refinedata'\nimport Navbar from './navbar';\nimport Addcfdata from './addcfdata';\nimport Listchallenges from './listchallenges';\nimport CarbonForm from './carbonForm.js';\n\n\nclass UserPage extends Component {\n  constructor(){\n    super();\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      // data: [{value: 50, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())}]\n      data:[],\n      challengedata: [],\n      task:true,\n    };\n  }\n  componentWillMount(){\n    firebase.auth().onAuthStateChanged(user => {\n      if(user){\n        const db = firebase.firestore();\n        /*\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        */\n        const userRef = db.collection(\"UserData\");\n        this.setState({\n          signedIn: true,\n          currentUser: user,\n          //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n        })\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc.data().footprint,\n            challengedata: getDoc.data().dailychallenge\n          })\n        })\n      }\n      //console.log(\"changed: \" + this.state.currentUser.displayName);\n    })\n  }\n  render(){\n    if(this.state.data.length > 0){\n      if (this.state.task){\n        return(\n          <div>\n            <Addcfdata />\n            <Navbar />\n            <section className=\"userPage_welcome_block\">\n              <h1 className=\"userPage_welcome\">welcome back</h1>\n              <carbonForm/>\n            </section>\n            <div className=\"userPage-flex\">\n              <div className=\"taskbar\">\n              <table>\n                <tr>\n                  <td><button className=\"userpage-button\" onClick={this.handleTask}>tasks</button></td>\n                  <td><button className=\"userpage-button\" onClick={this.handleForm}>forms</button></td>\n                </tr>\n              </table>\n              <div className=\"taskbar-container\">\n              <Listchallenges data = {this.state.challengedata} />\n              </div>\n              </div>\n              <div className=\"victory-container\">\n              <div className=\"harry-styles-is-hotter-than-ryan-reynolds\">\n              <h1 id=\"your-carbon-score\">your carbon score!</h1>\n                <Refine data = {this.state.data}  />\n              </div>\n            </div>\n          </div>\n          </div>\n        );\n      }\n      else {\n        return(\n          <div>\n            <Navbar />\n            <section className=\"userPage_welcome_block\">\n              <h1 className=\"userPage_welcome\">welcome back</h1>\n              <carbonForm/>\n            </section>\n            <div className=\"userPage-flex\">\n              <div class=\"taskbar\">\n              <table>\n                <tr>\n                  <td><button className=\"userpage-button\" onClick={this.handleTask}>tasks</button></td>\n                  <td><button className=\"userpage-button\" onClick={this.handleForm}>forms</button></td>\n                </tr>\n              </table>\n              <div className=\"carbonForm-container\">\n              <CarbonForm/>\n              </div>\n              </div>\n              <div className=\"victory-container\">\n              <div className=\"harry-styles-is-hotter-than-ryan-reynolds\">\n              <h1 id=\"your-carbon-score\">your carbon score!</h1>\n                <Refine data = {this.state.data}  />\n              </div>\n              </div>\n            </div>\n          </div>\n        );\n      }\n      console.log(this.state.data)\n    }\n    else {\n      return(<div/>);\n    }\n  }\n\n  handleTask = e => {\n    this.setState({task: true});\n  }\n\n  handleForm = e => {\n    this.setState({task: false});\n  }\n}\nexport default UserPage;\n"]},"metadata":{},"sourceType":"module"}