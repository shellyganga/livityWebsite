{"ast":null,"code":"var _jsxFileName = \"/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js\";\nimport React, { Component } from 'react';\nimport './userPage.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Refine from './refinedata';\nimport Navbar from './navbar';\nimport Addcfdata from './addcfdata';\nimport Listchallenges from './listchallenges';\nimport CarbonForm from './carbonForm.js';\n\nclass UserPage extends Component {\n  constructor() {\n    super();\n\n    this.handleTask = e => {\n      this.setState({\n        task: true\n      });\n    };\n\n    this.handleForm = e => {\n      this.setState({\n        task: false\n      });\n    };\n\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      // data: [{value: 50, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())}]\n      data: [],\n      challengedata: [],\n      task: true\n    };\n  }\n\n  componentWillMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        const db = firebase.firestore();\n        /*\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        */\n\n        const userRef = db.collection(\"UserData\");\n        this.setState({\n          signedIn: true,\n          currentUser: user //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n\n        });\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc.data().footprint,\n            challengedata: getDoc.data().dailychallenge\n          });\n        });\n      } //console.log(\"changed: \" + this.state.currentUser.displayName);\n\n    });\n  }\n\n  render() {\n    if (this.state.signedIn == false) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Your are not logged in. Please visit userpage after you \"), React.createElement(\"a\", {\n        href: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"log in\"));\n    } else {\n      if (this.state.data.length > 0) {\n        if (this.state.task) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, React.createElement(Addcfdata, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }), React.createElement(Navbar, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }), React.createElement(\"section\", {\n            className: \"userPage_welcome_block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            className: \"userPage_welcome\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, \"welcome back\"), React.createElement(\"carbonForm\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"userPage-flex\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"taskbar\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }, React.createElement(\"table\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: \"userpage-button\",\n            onClick: this.handleTask,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }, \"tasks\")), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: \"userpage-button\",\n            onClick: this.handleForm,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }, \"forms\")))), React.createElement(\"div\", {\n            className: \"taskbar-container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, React.createElement(Listchallenges, {\n            data: this.state.challengedata,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            className: \"victory-container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"harry-styles-is-hotter-than-ryan-reynolds\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            id: \"your-carbon-score\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, \"your carbon score!\"), React.createElement(Refine, {\n            data: this.state.data,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          })))));\n        } else {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, React.createElement(Navbar, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }), React.createElement(\"section\", {\n            className: \"userPage_welcome_block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            className: \"userPage_welcome\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, \"welcome back\"), React.createElement(\"carbonForm\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"userPage-flex\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            class: \"taskbar\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, React.createElement(\"table\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }, React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: \"userpage-button\",\n            onClick: this.handleTask,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, \"tasks\")), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: \"userpage-button\",\n            onClick: this.handleForm,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, \"forms\")))), React.createElement(\"div\", {\n            className: \"carbonForm-container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, React.createElement(CarbonForm, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            className: \"victory-container\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"harry-styles-is-hotter-than-ryan-reynolds\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            id: \"your-carbon-score\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, \"your carbon score!\"), React.createElement(Refine, {\n            data: this.state.data,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          })))));\n        }\n\n        console.log(this.state.data);\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        });\n      }\n    }\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js"],"names":["React","Component","firebase","StyledFirebaseAuth","Refine","Navbar","Addcfdata","Listchallenges","CarbonForm","UserPage","constructor","handleTask","e","setState","task","handleForm","state","signedIn","currentUser","data","challengedata","componentWillMount","auth","onAuthStateChanged","user","db","firestore","userRef","collection","doc","uid","get","then","getDoc","footprint","dailychallenge","render","length","console","log"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './userPage.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Refine from './refinedata'\nimport Navbar from './navbar';\nimport Addcfdata from './addcfdata';\nimport Listchallenges from './listchallenges';\nimport CarbonForm from './carbonForm.js';\n\n\nclass UserPage extends Component {\n  constructor(){\n    super();\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      // data: [{value: 50, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())}]\n      data:[],\n      challengedata: [],\n      task:true,\n    };\n  }\n  componentWillMount(){\n    firebase.auth().onAuthStateChanged(user => {\n      if(user){\n        const db = firebase.firestore();\n        /*\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        */\n        const userRef = db.collection(\"UserData\");\n        this.setState({\n          signedIn: true,\n          currentUser: user,\n          //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n        })\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc.data().footprint,\n            challengedata: getDoc.data().dailychallenge\n          })\n        })\n      }\n      //console.log(\"changed: \" + this.state.currentUser.displayName);\n    })\n  }\n  render(){\n    if(this.state.signedIn == false){\n      return(\n        <div>\n          <p>Your are not logged in. Please visit userpage after you </p><a href='/login'>log in</a>\n        </div>\n      )\n    } else {\n      if(this.state.data.length > 0){\n        if (this.state.task){\n          return(\n            <div>\n              <Addcfdata />\n              <Navbar />\n              <section className=\"userPage_welcome_block\">\n                <h1 className=\"userPage_welcome\">welcome back</h1>\n                <carbonForm/>\n              </section>\n              <div className=\"userPage-flex\">\n                <div className=\"taskbar\">\n                <table>\n                  <tr>\n                    <td><button className=\"userpage-button\" onClick={this.handleTask}>tasks</button></td>\n                    <td><button className=\"userpage-button\" onClick={this.handleForm}>forms</button></td>\n                  </tr>\n                </table>\n                <div className=\"taskbar-container\">\n                <Listchallenges data = {this.state.challengedata} />\n                </div>\n                </div>\n                <div className=\"victory-container\">\n                <div className=\"harry-styles-is-hotter-than-ryan-reynolds\">\n                <h1 id=\"your-carbon-score\">your carbon score!</h1>\n                  <Refine data = {this.state.data}  />\n                </div>\n              </div>\n            </div>\n            </div>\n          );\n        }\n        else {\n          return(\n            <div>\n              <Navbar />\n              <section className=\"userPage_welcome_block\">\n                <h1 className=\"userPage_welcome\">welcome back</h1>\n                <carbonForm/>\n              </section>\n              <div className=\"userPage-flex\">\n                <div class=\"taskbar\">\n                <table>\n                  <tr>\n                    <td><button className=\"userpage-button\" onClick={this.handleTask}>tasks</button></td>\n                    <td><button className=\"userpage-button\" onClick={this.handleForm}>forms</button></td>\n                  </tr>\n                </table>\n                <div className=\"carbonForm-container\">\n                <CarbonForm/>\n                </div>\n                </div>\n                <div className=\"victory-container\">\n                <div className=\"harry-styles-is-hotter-than-ryan-reynolds\">\n                <h1 id=\"your-carbon-score\">your carbon score!</h1>\n                  <Refine data = {this.state.data}  />\n                </div>\n                </div>\n              </div>\n            </div>\n          );\n        }\n        console.log(this.state.data)\n      }\n      else {\n        return(<div/>);\n      }\n    }\n\n  }\n\n  handleTask = e => {\n    this.setState({task: true});\n  }\n\n  handleForm = e => {\n    this.setState({task: false});\n  }\n}\nexport default UserPage;\n"]},"metadata":{},"sourceType":"module"}