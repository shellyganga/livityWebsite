{"ast":null,"code":"var _jsxFileName = \"/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js\";\nimport React, { Component } from 'react';\nimport './userPage.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Refine from './refinedata';\nimport Navbar from './navbar';\n\nclass UserPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      // data: [{value: 50, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())}]\n      data: []\n    };\n  }\n\n  componentWillMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        const db = firebase.firestore();\n        /*\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        */\n\n        const userRef = db.collection(\"UserData\");\n        this.setState({\n          signedIn: true,\n          currentUser: user //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n\n        });\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc.data().footprint\n          });\n        });\n      } //console.log(\"changed: \" + this.state.currentUser.displayName);\n\n    });\n  }\n\n  render() {\n    if (this.state.data.length > 0) {\n      console.log(this.state.data);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"userPage_welcome_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"userPage_welcome\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"welcome back\")), React.createElement(Refine, {\n        data: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/shellyganga/Documents/cuproj/varearth/src/userPage.js"],"names":["React","Component","firebase","StyledFirebaseAuth","Refine","Navbar","UserPage","constructor","state","signedIn","currentUser","data","componentWillMount","auth","onAuthStateChanged","user","db","firestore","userRef","collection","setState","doc","uid","get","then","getDoc","footprint","render","length","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,gBAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,kBAAP,MAA+B,qCAA/B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAE/BM,EAAAA,WAAW,GAAE;AACX;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,KADC;AAEXC,MAAAA,WAAW,EAAE,IAFF;AAGX;AACAC,MAAAA,IAAI,EAAC;AAJM,KAAb;AAMD;;AAEDC,EAAAA,kBAAkB,GAAE;AAClBV,IAAAA,QAAQ,CAACW,IAAT,GAAgBC,kBAAhB,CAAmCC,IAAI,IAAI;AACzC,UAAGA,IAAH,EAAQ;AAEN,cAAMC,EAAE,GAAGd,QAAQ,CAACe,SAAT,EAAX;AACA;;;;;;AAKA,cAAMC,OAAO,GAAGF,EAAE,CAACG,UAAH,CAAc,UAAd,CAAhB;AAEA,aAAKC,QAAL,CAAc;AACZX,UAAAA,QAAQ,EAAE,IADE;AAEZC,UAAAA,WAAW,EAAEK,IAFD,CAGZ;;AAHY,SAAd;AAMAG,QAAAA,OAAO,CAACG,GAAR,CAAYN,IAAI,CAACO,GAAjB,EAAsBC,GAAtB,GAA4BC,IAA5B,CAAiCC,MAAM,IAAI;AACzC,eAAKL,QAAL,CAAc;AACZT,YAAAA,IAAI,EAAEc,MAAM,CAACd,IAAP,GAAce;AADR,WAAd;AAGD,SAJD;AAMD,OAvBwC,CAwBzC;;AACD,KAzBD;AA0BD;;AAEDC,EAAAA,MAAM,GAAE;AACN,QAAG,KAAKnB,KAAL,CAAWG,IAAX,CAAgBiB,MAAhB,GAAyB,CAA5B,EAA8B;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtB,KAAL,CAAWG,IAAvB;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAIE;AAAS,QAAA,SAAS,EAAC,wBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CAJF,EASE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAI,KAAKH,KAAL,CAAWG,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADF;AAaD,KAfD,MAeO;AACL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AAEF;;AA/D8B;;AAkEjC,eAAeL,QAAf","sourcesContent":["import React, {Component} from 'react';\nimport './userPage.css';\nimport firebase from './Firestore';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Refine from './refinedata'\nimport Navbar from './navbar';\n\nclass UserPage extends Component {\n\n  constructor(){\n    super();\n    this.state = {\n      signedIn: false,\n      currentUser: null,\n      // data: [{value: 50, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())},{value: 25, timestamp: new Date(Date.now())}]\n      data:[]\n    };\n  }\n\n  componentWillMount(){\n    firebase.auth().onAuthStateChanged(user => {\n      if(user){\n\n        const db = firebase.firestore();\n        /*\n        db.settings({\n          timestampsInSnapshots: true\n        });\n        */\n        const userRef = db.collection(\"UserData\");\n\n        this.setState({\n          signedIn: true,\n          currentUser: user,\n          //data: userRef.doc(user.uid).get().then(getDoc => {getDoc})\n        })\n\n        userRef.doc(user.uid).get().then(getDoc => {\n          this.setState({\n            data: getDoc.data().footprint\n          })\n        })\n\n      }\n      //console.log(\"changed: \" + this.state.currentUser.displayName);\n    })\n  }\n\n  render(){\n    if(this.state.data.length > 0){\n      console.log(this.state.data)\n      return(\n        <div>\n          <Navbar />\n\n\n          <section className=\"userPage_welcome_block\">\n            <h1 className=\"userPage_welcome\">welcome back</h1>\n          </section>\n\n\n          <Refine data = {this.state.data}  />\n        </div>\n      )\n    } else {\n      return(\n        <div/>\n      )\n    }\n\n  }\n}\n\nexport default UserPage;\n"]},"metadata":{},"sourceType":"module"}